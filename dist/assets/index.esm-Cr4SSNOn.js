import{U as f}from"./index-ZM_QCwWo.js";var E=function(n){return typeof n=="object"&&n!==null},G=function(n){var A=n.value,P=A===void 0?"":A,w=n.numInputs,o=w===void 0?4:w,F=n.onChange,V=n.onPaste,j=n.renderInput,C=n.shouldAutoFocus,N=C===void 0?!1:C,O=n.inputType,y=O===void 0?"text":O,m=n.renderSeparator,s=n.placeholder,p=n.containerStyle,d=n.inputStyle,T=n.skipDefaultStyles,B=T===void 0?!1:T,k=f.useState(0),u=k[0],D=k[1],c=f.useRef([]),v=function(){return P?P.toString().split(""):[]},I=y==="number"||y==="tel";f.useEffect(function(){c.current=c.current.slice(0,o)},[o]),f.useEffect(function(){var e;N&&((e=c.current[0])===null||e===void 0||e.focus())},[N]);var R=function(){if(typeof s=="string"){if(s.length===o)return s;s.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},b=function(e){var t=I?!isNaN(Number(e)):typeof e=="string";return t&&e.trim().length===1},M=function(e){var t=e.target.value;b(t)&&(h(t),i(u+1))},_=function(e){var t=e.nativeEvent,r=e.target.value;if(!b(r)){if(r.length===o){var a=r.split("").some(function(l){return!b(l)});a||(S(r.split("")),i(o-1))}t.data===null&&t.inputType==="deleteContentBackward"&&(e.preventDefault(),h(""),i(u-1)),e.target.value=""}},K=function(e){return function(t){D(t),e.target.select()}},L=function(){D(u-1)},U=function(e){var t=v();[e.code,e.key].includes("Backspace")?(e.preventDefault(),h(""),i(u-1)):e.code==="Delete"?(e.preventDefault(),h("")):e.code==="ArrowLeft"?(e.preventDefault(),i(u-1)):e.code==="ArrowRight"||e.key===t[u]?(e.preventDefault(),i(u+1)):(e.code==="Spacebar"||e.code==="Space"||e.code==="ArrowUp"||e.code==="ArrowDown")&&e.preventDefault()},i=function(e){var t,r,a=Math.max(Math.min(o-1,e),0);c.current[a]&&((t=c.current[a])===null||t===void 0||t.focus(),(r=c.current[a])===null||r===void 0||r.select(),D(a))},h=function(e){var t=v();t[u]=e[0],S(t)},S=function(e){var t=e.join("");F(t)},q=function(e){var t;e.preventDefault();var r=v(),a=u,l=e.clipboardData.getData("text/plain").slice(0,o-u).split("");if(!(I&&l.some(function(x){return isNaN(Number(x))}))){for(var g=0;g<o;++g)g>=u&&l.length>0&&(r[g]=(t=l.shift())!==null&&t!==void 0?t:"",a++);i(a),S(r)}};return f.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},E(p)&&p),className:typeof p=="string"?p:void 0,onPaste:V},Array.from({length:o},function(e,t){return t}).map(function(e){var t,r,a;return f.createElement(f.Fragment,{key:e},j({value:(t=v()[e])!==null&&t!==void 0?t:"",placeholder:(a=(r=R())===null||r===void 0?void 0:r[e])!==null&&a!==void 0?a:void 0,ref:function(l){return c.current[e]=l},onChange:M,onFocus:function(l){return K(l)(e)},onBlur:L,onKeyDown:U,onPaste:q,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(B?{}:{width:"1em",textAlign:"center"},E(d)?d:{}),className:typeof d=="string"?d:void 0,type:y,inputMode:I?"numeric":"text",onInput:_},e),e<o-1&&(typeof m=="function"?m(e):m))}))};export{G as O};
